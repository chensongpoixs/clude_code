# Clude Code 配置文件示例
# 复制此文件为 clude.yaml 并根据需要修改
# 
# 配置优先级（从高到低）：
# 1. 环境变量（前缀 CLUDE_）
# 2. 配置文件（clude.yaml / clude.toml）
# 3. 默认值

# LLM 配置
llm:
  provider: llama_cpp_http
  base_url: http://127.0.0.1:8899
  api_mode: openai_compat
  model: ggml-org/gemma-3-12b-it-GGUF
  temperature: 0.2
  max_tokens: 2048
  timeout_s: 120

# 策略配置
policy:
  allow_network: false
  confirm_write: true
  confirm_exec: true
  allowed_tools: []      # 空=不限制；否则仅允许列出的工具
  disallowed_tools: []   # 禁止的工具名单

# 资源限制
limits:
  max_output_bytes: 1000000
  max_file_read_bytes: 1000000

# 日志配置
logging:
  log_to_console: true

# 编排器配置
orchestrator:
  enable_planning: true
  max_plan_steps: 12
  max_step_tool_calls: 100
  max_replans: 2
  planning_retry: 1

# RAG 配置
rag:
  enabled: true
  device: cpu                           # cpu / cuda / mps
  embedding_model: BAAI/bge-small-zh-v1.5
  model_cache_dir: null                 # null = 使用默认路径
  db_path: .clude/vector_db
  table_name: code_chunks_v2
  chunk_size: 500
  chunk_overlap: 50
  chunker: heuristic                    # heuristic / tree_sitter

# 天气 API 配置（OpenWeatherMap）
# 获取免费 API Key: https://openweathermap.org/api
weather:
  enabled: true
  api_key: ""                           # 必填：你的 OpenWeatherMap API Key
  default_units: metric                 # metric=摄氏度 / imperial=华氏度 / standard=开尔文
  default_lang: zh_cn                   # 默认返回中文
  timeout_s: 10                         # 请求超时时间
  cache_ttl_s: 300                      # 缓存时间（秒），避免频繁请求

