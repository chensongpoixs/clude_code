# 策略：高风险治理

## 策略目标
对高风险操作实施严格管控，确保操作可审计、可回滚、经过人工确认。

## 风险等级定义

| 等级 | 描述 | 执行策略 |
|------|------|---------|
| LOW | 低风险（只读、查询） | 自动执行 |
| MEDIUM | 中风险（文件修改） | 自动执行 + 回滚准备 |
| HIGH | 高风险（系统配置） | Plan Review + 确认 |
| CRITICAL | 关键风险（生产操作） | 人工审批 + 沙箱 |

## 约束规则

### 1. 高风险操作识别
以下操作被识别为高风险：
- 删除文件或目录
- 修改系统配置
- 执行 rm、mv、chmod 等系统命令
- 数据库操作
- 网络配置变更

### 2. 审批流程
高风险操作必须遵循：
1. 生成操作方案（含影响范围）
2. 准备回滚方案
3. 输出审批请求：`{"control":"approval_required","plan":"..."}`
4. 等待人工确认
5. 执行并记录结果
6. 验证操作结果

### 3. 回滚机制
- 文件操作自动创建备份
- 记录操作前后状态
- 提供一键回滚能力

## 审计要求
所有高风险操作必须记录：
- 操作时间
- 操作内容
- 操作者（trace_id）
- 审批状态
- 执行结果

