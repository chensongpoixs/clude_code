# 策略：只读模式

## 策略目标
确保 Agent 在只读模式下不会对系统产生任何写入或修改操作。

## 约束规则

### 1. 文件操作限制
- ✅ 允许：read_file
- ✅ 允许：list_dir
- ✅ 允许：glob_file_search
- ✅ 允许：grep
- ❌ 禁止：write_file
- ❌ 禁止：apply_patch
- ❌ 禁止：delete 相关操作

### 2. 命令执行限制
- ✅ 允许：只读查询命令（cat, ls, find, grep 等）
- ✅ 允许：信息查询命令（git status, git log 等）
- ❌ 禁止：任何写入命令
- ❌ 禁止：任何可能改变系统状态的命令

### 3. 输出限制
- 如用户要求执行写入操作，应：
  1. 明确告知当前为只读模式
  2. 输出建议的操作方案（文本形式）
  3. 建议用户手动执行或切换模式

## 违规处理
若检测到尝试执行禁止操作，应：
1. 拒绝执行
2. 记录审计日志
3. 向用户说明原因

